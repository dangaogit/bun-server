# Bun Server Framework - v1.1.x Roadmap

> ç›®æ ‡ç‰ˆæœ¬ï¼šv1.1.0 - v1.1.x\
> é‡ç‚¹ï¼šå¾®æœåŠ¡æ¶æ„æ”¯æŒï¼Œä¼˜å…ˆå®ç° Nacos é…ç½®ä¸­å¿ƒå’ŒæœåŠ¡æ³¨å†Œä¸å‘ç°

## ğŸ¯ v1.1.x ç‰ˆæœ¬ç›®æ ‡

v1.1.x
ç‰ˆæœ¬ä¸“æ³¨äºå¾®æœåŠ¡æ¶æ„æ”¯æŒï¼Œä¸ºä¼ä¸šçº§åˆ†å¸ƒå¼åº”ç”¨æä¾›å®Œæ•´çš„å¾®æœåŠ¡åŸºç¡€è®¾æ–½ã€‚ä¸»è¦ç›®æ ‡åŒ…æ‹¬ï¼š

1. **é…ç½®ä¸­å¿ƒé›†æˆ**ï¼šä¼˜å…ˆæ”¯æŒ Nacos é…ç½®ä¸­å¿ƒï¼Œå®ç°åŠ¨æ€é…ç½®ç®¡ç†
2. **æœåŠ¡æ³¨å†Œä¸å‘ç°**ï¼šåŸºäº Nacos å®ç°æœåŠ¡æ³¨å†Œã€å‘ç°å’Œè´Ÿè½½å‡è¡¡
3. **å¾®æœåŠ¡é€šä¿¡**ï¼šæä¾› HTTP å®¢æˆ·ç«¯å’ŒæœåŠ¡é—´è°ƒç”¨æ”¯æŒ
4. **æœåŠ¡æ²»ç†**ï¼šå®ç°ç†”æ–­ã€é™æµã€é‡è¯•ç­‰å¾®æœåŠ¡æ²»ç†èƒ½åŠ›

---

## ğŸ“¦ Nacos SDK åŒ…ç»“æ„

Nacos SDK å°†ä½œä¸ºç‹¬ç«‹çš„åŒ…ä¸ `logsmith` åŒçº§ï¼Œä½äº `packages/` ç›®å½•ä¸‹ï¼š

```
packages/
â”œâ”€â”€ bun-server/          # ä¸»æ¡†æ¶åŒ…
â”œâ”€â”€ logsmith/            # æ—¥å¿—åŒ…
â””â”€â”€ nacos-client/        # Nacos SDK åŒ…ï¼ˆæ–°å»ºï¼‰
    â”œâ”€â”€ package.json     # åŒ…åï¼š@dangao/nacos-client
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ client.ts    # Nacos å®¢æˆ·ç«¯æ ¸å¿ƒå®ç°
    â”‚   â”œâ”€â”€ config.ts   # é…ç½®ç®¡ç†
    â”‚   â”œâ”€â”€ service.ts  # æœåŠ¡æ³¨å†Œä¸å‘ç°
    â”‚   â””â”€â”€ index.ts    # å¯¼å‡º
    â””â”€â”€ ...
```

**åŒ…å**ï¼š`@dangao/nacos-client`

**èŒè´£**ï¼š
- æä¾› Nacos å®¢æˆ·ç«¯æ ¸å¿ƒåŠŸèƒ½
- å®ç°é…ç½®ç®¡ç† API
- å®ç°æœåŠ¡æ³¨å†Œä¸å‘ç° API
- ç‹¬ç«‹äºä¸»æ¡†æ¶ï¼Œå¯å•ç‹¬ä½¿ç”¨

---

## ğŸ“š Nacos å®˜æ–¹æ–‡æ¡£å‚è€ƒ

åœ¨å®ç° Nacos é›†æˆæ—¶ï¼Œè¯·å‚è€ƒä»¥ä¸‹å®˜æ–¹æ–‡æ¡£ï¼š

- **Nacos 3.X Open API æ–‡æ¡£**ï¼š
  - [å®¢æˆ·ç«¯ API](https://nacos.io/docs/latest/manual/user/open-api/)
  - [é…ç½®ç®¡ç† API](https://nacos.io/docs/latest/manual/user/open-api/#11-%E8%8E%B7%E5%8F%96%E9%85%8D%E7%BD%AE)
  - [æœåŠ¡å‘ç° API](https://nacos.io/docs/latest/manual/user/open-api/#2-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0)
- **Nacos 3.X æ–‡æ¡£æºç **ï¼š
  - [GitHub æ–‡æ¡£ä»“åº“](https://github.com/nacos-group/nacos-group.github.io/tree/develop-astro-nacos/src/content/docs/v3.0)

**é‡è¦è¯´æ˜**ï¼š
- Nacos 3.X ç‰ˆæœ¬ä½¿ç”¨æ–°çš„ Open APIï¼Œä¸å†å…¼å®¹ 1.X å’Œ 2.X ç‰ˆæœ¬çš„ HTTP OpenAPI
- Nacos 3.X çš„ HTTP OpenAPI ä¸»è¦é¢å‘ä¸æ”¯æŒ gRPC çš„ç¼–ç¨‹è¯­è¨€
- é…ç½®ç®¡ç†ä»…æä¾›è·å–é…ç½®æ¥å£ï¼Œä¸æä¾›å‘å¸ƒå’Œåˆ é™¤æ¥å£ï¼ˆéœ€ä½¿ç”¨è¿ç»´ APIï¼‰
- æœåŠ¡å‘ç°æ”¯æŒå®ä¾‹æ³¨å†Œã€ç»­çº¦ã€æ³¨é”€å’ŒæŸ¥è¯¢å®ä¾‹åˆ—è¡¨

---

## ğŸš€ v1.1.0 Roadmap

### Phase 1: Nacos é…ç½®ä¸­å¿ƒé›†æˆ ğŸ”´ é«˜ä¼˜å…ˆçº§

**ç›®æ ‡**ï¼šå®ç° Nacos é…ç½®ä¸­å¿ƒé›†æˆï¼Œæ”¯æŒåŠ¨æ€é…ç½®ç®¡ç†å’Œé…ç½®çƒ­æ›´æ–°

**æŠ€æœ¯å‚è€ƒ**ï¼š
- ä½¿ç”¨ Nacos 3.X Open APIï¼š`GET /nacos/v3/client/cs/config`
- æ”¯æŒé…ç½®çƒ­æ›´æ–°ï¼šé€šè¿‡è½®è¯¢è·å–é…ç½®ï¼Œæ¯”å¯¹ md5 åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°

#### 1.1 Nacos å®¢æˆ·ç«¯é›†æˆ

**å®ç°ä½ç½®**ï¼š`packages/nacos-client/`ï¼ˆç‹¬ç«‹åŒ…ï¼‰

- [ ] å®ç° NacosClientï¼ˆ`packages/nacos-client/src/client.ts`ï¼‰
  - [ ] Nacos æœåŠ¡å™¨è¿æ¥ç®¡ç†
  - [ ] HTTP å®¢æˆ·ç«¯å°è£…ï¼ˆåŸºäº Nacos 3.X Open APIï¼‰
  - [ ] è¿æ¥é‡è¯•å’Œæ•…éšœè½¬ç§»
  - [ ] è¯·æ±‚/å“åº”å¤„ç†
- [ ] å®ç°é…ç½®ç®¡ç†å®¢æˆ·ç«¯ï¼ˆ`packages/nacos-client/src/config.ts`ï¼‰
  - [ ] è·å–é…ç½®ï¼ˆ`GET /nacos/v3/client/cs/config`ï¼‰
  - [ ] é…ç½® md5 æ¯”å¯¹
  - [ ] é…ç½®è½®è¯¢æœºåˆ¶ï¼ˆç”¨äºé…ç½®çƒ­æ›´æ–°ï¼‰
- [ ] å®ç°é…ç½®ç›‘å¬å™¨æ¥å£
- [ ] æ”¯æŒå‘½åç©ºé—´ï¼ˆNamespaceï¼‰å’Œåˆ†ç»„ï¼ˆGroupï¼‰
- [ ] æ”¯æŒé…ç½®åŠ å¯†å’Œæ•æ„Ÿä¿¡æ¯ä¿æŠ¤

**API å‚è€ƒ**ï¼š
- è·å–é…ç½®ï¼š`GET /nacos/v3/client/cs/config?dataId={dataId}&groupName={groupName}&namespaceId={namespaceId}`
- è¿”å›æ•°æ®åŒ…å«ï¼š`content`, `md5`, `lastModified`, `contentType` ç­‰å­—æ®µ

**ä¼˜å…ˆçº§**ï¼šğŸ”´ é«˜\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.0

#### 1.2 NacosConfigModule

- [ ] å®ç° NacosConfigModule
  - [ ] æ¨¡å—é…ç½®ï¼ˆæœåŠ¡å™¨åœ°å€ã€å‘½åç©ºé—´ã€åˆ†ç»„ç­‰ï¼‰
  - [ ] é…ç½®åŠ è½½å’Œåˆå¹¶ï¼ˆæœ¬åœ°é…ç½® + Nacos é…ç½®ï¼‰
  - [ ] é…ç½®ä¼˜å…ˆçº§ç®¡ç†ï¼ˆNacos > ç¯å¢ƒå˜é‡ > é»˜è®¤é…ç½®ï¼‰
  - [ ] é…ç½®çƒ­æ›´æ–°æ”¯æŒ
- [ ] é›†æˆåˆ° ConfigModule
  - [ ] æ‰©å±• ConfigService æ”¯æŒ Nacos é…ç½®æº
  - [ ] é…ç½®å˜æ›´è‡ªåŠ¨åˆ·æ–°
  - [ ] é…ç½®ç›‘å¬å’Œå›è°ƒ
- [ ] æä¾›è£…é¥°å™¨æ”¯æŒ
  - [ ] `@NacosConfig()` è£…é¥°å™¨
  - [ ] `@NacosValue()` è£…é¥°å™¨ï¼ˆç±»ä¼¼ Spring Cloudï¼‰
- [ ] æä¾›ç¤ºä¾‹å’Œæ–‡æ¡£

**ä¼˜å…ˆçº§**ï¼šğŸ”´ é«˜\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.0

#### 1.3 é…ç½®ç®¡ç†åŠŸèƒ½

- [ ] é…ç½®ç›‘å¬å’Œçƒ­æ›´æ–°
  - [ ] é…ç½®å˜æ›´ç›‘å¬
  - [ ] è‡ªåŠ¨åˆ·æ–°åº”ç”¨é…ç½®
  - [ ] é…ç½®å˜æ›´äº‹ä»¶é€šçŸ¥
- [ ] é…ç½®ç‰ˆæœ¬ç®¡ç†
  - [ ] é…ç½®ç‰ˆæœ¬è¿½è¸ª
  - [ ] é…ç½®å›æ»šæ”¯æŒ
- [ ] é…ç½®åŠ å¯†æ”¯æŒ
  - [ ] æ•æ„Ÿé…ç½®åŠ å¯†å­˜å‚¨
  - [ ] é…ç½®è§£å¯†å’Œæ³¨å…¥

**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.0

---

### Phase 2: æœåŠ¡æ³¨å†Œä¸å‘ç° ğŸ”´ é«˜ä¼˜å…ˆçº§

**ç›®æ ‡**ï¼šåŸºäº Nacos å®ç°æœåŠ¡æ³¨å†Œã€å‘ç°å’Œè´Ÿè½½å‡è¡¡

#### 2.1 Nacos æœåŠ¡æ³¨å†Œ

**å®ç°ä½ç½®**ï¼š`packages/nacos-client/src/service.ts`ï¼ˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼‰

- [ ] å®ç° NacosServiceRegistry
  - [ ] æœåŠ¡å®ä¾‹æ³¨å†Œï¼ˆ`POST /nacos/v3/client/ns/instance`ï¼‰
  - [ ] æœåŠ¡å®ä¾‹ç»­çº¦ï¼ˆ`POST /nacos/v3/client/ns/instance` with `heartBeat=true`ï¼‰
  - [ ] æœåŠ¡å®ä¾‹ä¸‹çº¿ï¼ˆ`DELETE /nacos/v3/client/ns/instance`ï¼‰
  - [ ] æœåŠ¡å®ä¾‹å…ƒæ•°æ®ç®¡ç†
- [ ] å®ç°å¿ƒè·³æœºåˆ¶
  - [ ] å®šæœŸå‘é€å¿ƒè·³ä¿æŒè¿æ¥
  - [ ] å¿ƒè·³å¤±è´¥æ—¶é‡æ–°æ³¨å†Œ
- [ ] å®ç°æœåŠ¡æ³¨å†Œè£…é¥°å™¨ï¼ˆåœ¨ `bun-server` ä¸­ï¼‰
  - [ ] `@ServiceRegistry()` è£…é¥°å™¨
  - [ ] è‡ªåŠ¨æœåŠ¡æ³¨å†Œ
  - [ ] æœåŠ¡å…ƒæ•°æ®é…ç½®ï¼ˆç‰ˆæœ¬ã€æƒé‡ã€å¥åº·çŠ¶æ€ç­‰ï¼‰
- [ ] é›†æˆåˆ° Application
  - [ ] åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ³¨å†Œ
  - [ ] åº”ç”¨å…³é—­æ—¶è‡ªåŠ¨æ³¨é”€
  - [ ] å¥åº·æ£€æŸ¥é›†æˆ

**API å‚è€ƒ**ï¼š
- æ³¨å†Œå®ä¾‹ï¼š`POST /nacos/v3/client/ns/instance` with `serviceName`, `ip`, `port`, `heartBeat=false`
- ç»­çº¦å®ä¾‹ï¼š`POST /nacos/v3/client/ns/instance` with `serviceName`, `ip`, `port`, `heartBeat=true`
- æ³¨é”€å®ä¾‹ï¼š`DELETE /nacos/v3/client/ns/instance?serviceName={serviceName}&ip={ip}&port={port}`

**ä¼˜å…ˆçº§**ï¼šğŸ”´ é«˜\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.0

#### 2.2 Nacos æœåŠ¡å‘ç°

**å®ç°ä½ç½®**ï¼š`packages/nacos-client/src/service.ts`ï¼ˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼‰

- [ ] å®ç° NacosServiceDiscovery
  - [ ] æœåŠ¡å®ä¾‹æŸ¥è¯¢ï¼ˆ`GET /nacos/v3/client/ns/instance/list`ï¼‰
  - [ ] æœåŠ¡å®ä¾‹åˆ—è¡¨ç¼“å­˜
  - [ ] æœåŠ¡å®ä¾‹å˜æ›´ç›‘å¬ï¼ˆé€šè¿‡è½®è¯¢å®ç°ï¼ŒNacos 3.X ç§»é™¤ UDP æ¨é€ï¼‰
  - [ ] æœåŠ¡å®ä¾‹è¿‡æ»¤ï¼ˆç‰ˆæœ¬ã€æ ‡ç­¾ã€å¥åº·çŠ¶æ€ç­‰ï¼‰
- [ ] å®ç°è´Ÿè½½å‡è¡¡ï¼ˆåœ¨ `bun-server` ä¸­ï¼‰
  - [ ] éšæœºè´Ÿè½½å‡è¡¡ï¼ˆRandomï¼‰
  - [ ] è½®è¯¢è´Ÿè½½å‡è¡¡ï¼ˆRoundRobinï¼‰
  - [ ] åŠ æƒè½®è¯¢ï¼ˆWeightedRoundRobinï¼‰
  - [ ] ä¸€è‡´æ€§å“ˆå¸Œï¼ˆConsistentHashï¼‰
  - [ ] æœ€å°‘è¿æ¥ï¼ˆLeastActiveï¼‰
- [ ] å®ç°æœåŠ¡å‘ç°è£…é¥°å™¨ï¼ˆåœ¨ `bun-server` ä¸­ï¼‰
  - [ ] `@ServiceDiscovery()` è£…é¥°å™¨
  - [ ] æœåŠ¡å®ä¾‹é€‰æ‹©å™¨

**API å‚è€ƒ**ï¼š
- æŸ¥è¯¢å®ä¾‹åˆ—è¡¨ï¼š`GET /nacos/v3/client/ns/instance/list?serviceName={serviceName}&namespaceId={namespaceId}&groupName={groupName}&healthyOnly={healthyOnly}`
- è¿”å›æ•°æ®åŒ…å«ï¼š`ip`, `port`, `weight`, `healthy`, `enabled`, `metadata` ç­‰å­—æ®µ

**ä¼˜å…ˆçº§**ï¼šğŸ”´ é«˜\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.0

#### 2.3 ServiceRegistryModule

- [ ] å®ç° ServiceRegistryModule
  - [ ] æ¨¡å—é…ç½®ï¼ˆNacos æœåŠ¡å™¨åœ°å€ã€å‘½åç©ºé—´ç­‰ï¼‰
  - [ ] æœåŠ¡æ³¨å†Œé…ç½®ï¼ˆæœåŠ¡åã€ç«¯å£ã€å…ƒæ•°æ®ç­‰ï¼‰
  - [ ] æœåŠ¡å‘ç°é…ç½®ï¼ˆæœåŠ¡åˆ—è¡¨ã€è´Ÿè½½å‡è¡¡ç­–ç•¥ç­‰ï¼‰
- [ ] é›†æˆåˆ° Application
  - [ ] è‡ªåŠ¨æœåŠ¡æ³¨å†Œå’Œå‘ç°
  - [ ] æœåŠ¡å¥åº·æ£€æŸ¥é›†æˆ
- [ ] æä¾›ç¤ºä¾‹å’Œæ–‡æ¡£

**ä¼˜å…ˆçº§**ï¼šğŸ”´ é«˜\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.0

---

### Phase 3: å¾®æœåŠ¡é€šä¿¡ ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

**ç›®æ ‡**ï¼šæä¾›å¾®æœåŠ¡é—´ HTTP è°ƒç”¨æ”¯æŒ

#### 3.1 æœåŠ¡è°ƒç”¨å®¢æˆ·ç«¯

- [ ] å®ç° ServiceClient
  - [ ] åŸºäºæœåŠ¡åçš„æœåŠ¡è°ƒç”¨
  - [ ] è‡ªåŠ¨æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡
  - [ ] è¯·æ±‚é‡è¯•æœºåˆ¶
  - [ ] è¯·æ±‚è¶…æ—¶æ§åˆ¶
  - [ ] è¯·æ±‚æ—¥å¿—å’Œè¿½è¸ª
- [ ] å®ç°æœåŠ¡è°ƒç”¨è£…é¥°å™¨
  - [ ] `@ServiceClient()` è£…é¥°å™¨
  - [ ] `@ServiceCall()` è£…é¥°å™¨
- [ ] æ”¯æŒå¤šç§è°ƒç”¨æ–¹å¼
  - [ ] åŒæ­¥è°ƒç”¨
  - [ ] å¼‚æ­¥è°ƒç”¨
  - [ ] æµå¼è°ƒç”¨

**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.1

#### 3.2 æœåŠ¡è°ƒç”¨æ‹¦æˆªå™¨

- [ ] å®ç°è¯·æ±‚æ‹¦æˆªå™¨
  - [ ] è¯·æ±‚å¤´æ³¨å…¥ï¼ˆè¿½è¸ª IDã€ç”¨æˆ·ä¿¡æ¯ç­‰ï¼‰
  - [ ] è¯·æ±‚å‚æ•°è½¬æ¢
  - [ ] è¯·æ±‚æ—¥å¿—è®°å½•
- [ ] å®ç°å“åº”æ‹¦æˆªå™¨
  - [ ] å“åº”æ•°æ®è½¬æ¢
  - [ ] é”™è¯¯å¤„ç†
  - [ ] å“åº”æ—¥å¿—è®°å½•

**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.1

---

### Phase 4: æœåŠ¡æ²»ç† ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

**ç›®æ ‡**ï¼šå®ç°ç†”æ–­ã€é™æµã€é‡è¯•ç­‰å¾®æœåŠ¡æ²»ç†èƒ½åŠ›

#### 4.1 ç†”æ–­å™¨ï¼ˆCircuit Breakerï¼‰

- [ ] å®ç°ç†”æ–­å™¨
  - [ ] ç†”æ–­çŠ¶æ€ç®¡ç†ï¼ˆå…³é—­ã€å¼€å¯ã€åŠå¼€ï¼‰
  - [ ] ç†”æ–­ç­–ç•¥é…ç½®ï¼ˆå¤±è´¥ç‡ã€è¶…æ—¶æ—¶é—´ç­‰ï¼‰
  - [ ] ç†”æ–­æ¢å¤æœºåˆ¶
- [ ] é›†æˆåˆ°æœåŠ¡è°ƒç”¨
  - [ ] è‡ªåŠ¨ç†”æ–­ä¿æŠ¤
  - [ ] é™çº§å¤„ç†æ”¯æŒ
- [ ] æä¾›è£…é¥°å™¨æ”¯æŒ
  - [ ] `@CircuitBreaker()` è£…é¥°å™¨

**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.2

#### 4.2 æœåŠ¡é™æµ

- [ ] å®ç°æœåŠ¡çº§é™æµ
  - [ ] åŸºäºæœåŠ¡å®ä¾‹çš„é™æµ
  - [ ] åˆ†å¸ƒå¼é™æµæ”¯æŒï¼ˆåŸºäº Redisï¼‰
- [ ] é›†æˆåˆ°æœåŠ¡è°ƒç”¨
  - [ ] è‡ªåŠ¨é™æµä¿æŠ¤
  - [ ] é™æµç­–ç•¥é…ç½®

**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.2

#### 4.3 é‡è¯•æœºåˆ¶

- [ ] å®ç°é‡è¯•ç­–ç•¥
  - [ ] å›ºå®šé—´éš”é‡è¯•
  - [ ] æŒ‡æ•°é€€é¿é‡è¯•
  - [ ] è‡ªå®šä¹‰é‡è¯•ç­–ç•¥
- [ ] é›†æˆåˆ°æœåŠ¡è°ƒç”¨
  - [ ] è‡ªåŠ¨é‡è¯•æœºåˆ¶
  - [ ] é‡è¯•æ¡ä»¶é…ç½®

**ä¼˜å…ˆçº§**ï¼šğŸŸ¡ ä¸­\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.2

---

### Phase 5: ç›‘æ§å’Œè¿½è¸ª ğŸŸ¢ ä½ä¼˜å…ˆçº§

**ç›®æ ‡**ï¼šæä¾›å¾®æœåŠ¡ç›‘æ§å’Œåˆ†å¸ƒå¼è¿½è¸ªæ”¯æŒ

#### 5.1 åˆ†å¸ƒå¼è¿½è¸ª

- [ ] å®ç°åˆ†å¸ƒå¼è¿½è¸ª
  - [ ] Trace ID ç”Ÿæˆå’Œä¼ æ’­
  - [ ] Span ç®¡ç†
  - [ ] è¿½è¸ªæ•°æ®æ”¶é›†
- [ ] é›†æˆåˆ°æœåŠ¡è°ƒç”¨
  - [ ] è‡ªåŠ¨è¿½è¸ªæ”¯æŒ
  - [ ] è¿½è¸ªæ•°æ®ä¸ŠæŠ¥

**ä¼˜å…ˆçº§**ï¼šğŸŸ¢ ä½\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.3

#### 5.2 æœåŠ¡ç›‘æ§

- [ ] å®ç°æœåŠ¡ç›‘æ§æŒ‡æ ‡
  - [ ] æœåŠ¡è°ƒç”¨æ¬¡æ•°
  - [ ] æœåŠ¡è°ƒç”¨å»¶è¿Ÿ
  - [ ] æœåŠ¡è°ƒç”¨é”™è¯¯ç‡
  - [ ] æœåŠ¡å®ä¾‹å¥åº·çŠ¶æ€
- [ ] é›†æˆåˆ° MetricsModule
  - [ ] è‡ªåŠ¨æŒ‡æ ‡æ”¶é›†
  - [ ] Prometheus æ ¼å¼å¯¼å‡º

**ä¼˜å…ˆçº§**ï¼šğŸŸ¢ ä½\
**é¢„è®¡å®Œæˆæ—¶é—´**ï¼šv1.1.3

---

## ğŸ“¦ æ¨¡å—ç»“æ„è§„åˆ’

### Nacos SDK åŒ…ç»“æ„ï¼ˆç‹¬ç«‹åŒ…ï¼‰

```
packages/
â””â”€â”€ nacos-client/                    # Nacos SDK ç‹¬ç«‹åŒ…
    â”œâ”€â”€ package.json                 # @dangao/nacos-client
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ client.ts                # Nacos å®¢æˆ·ç«¯æ ¸å¿ƒ
    â”‚   â”œâ”€â”€ config.ts                # é…ç½®ç®¡ç†å®¢æˆ·ç«¯
    â”‚   â”œâ”€â”€ service.ts               # æœåŠ¡æ³¨å†Œä¸å‘ç°å®¢æˆ·ç«¯
    â”‚   â”œâ”€â”€ types.ts                 # Nacos ç›¸å…³ç±»å‹å®šä¹‰
    â”‚   â””â”€â”€ index.ts                 # åŒ…å¯¼å‡º
    â””â”€â”€ ...
```

### Bun Server å¾®æœåŠ¡æ¨¡å—ç»“æ„

```
packages/bun-server/src/
â”œâ”€â”€ microservice/
â”‚   â”œâ”€â”€ nacos/
â”‚   â”‚   â”œâ”€â”€ nacos-config-module.ts   # Nacos é…ç½®ä¸­å¿ƒæ¨¡å—ï¼ˆä¾èµ– @dangao/nacos-clientï¼‰
â”‚   â”‚   â”œâ”€â”€ nacos-service-registry.ts # Nacos æœåŠ¡æ³¨å†Œæ¨¡å—ï¼ˆä¾èµ– @dangao/nacos-clientï¼‰
â”‚   â”‚   â”œâ”€â”€ nacos-service-discovery.ts # Nacos æœåŠ¡å‘ç°æ¨¡å—ï¼ˆä¾èµ– @dangao/nacos-clientï¼‰
â”‚   â”‚   â””â”€â”€ types.ts                 # æ¨¡å—ç›¸å…³ç±»å‹
â”‚   â”œâ”€â”€ service-client/
â”‚   â”‚   â”œâ”€â”€ service-client.ts        # æœåŠ¡è°ƒç”¨å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ load-balancer.ts         # è´Ÿè½½å‡è¡¡å™¨
â”‚   â”‚   â””â”€â”€ types.ts                 # æœåŠ¡è°ƒç”¨ç›¸å…³ç±»å‹
â”‚   â”œâ”€â”€ governance/
â”‚   â”‚   â”œâ”€â”€ circuit-breaker.ts      # ç†”æ–­å™¨
â”‚   â”‚   â”œâ”€â”€ retry.ts                 # é‡è¯•æœºåˆ¶
â”‚   â”‚   â””â”€â”€ types.ts                 # æ²»ç†ç›¸å…³ç±»å‹
â”‚   â”œâ”€â”€ tracing/
â”‚   â”‚   â”œâ”€â”€ tracer.ts                # åˆ†å¸ƒå¼è¿½è¸ª
â”‚   â”‚   â””â”€â”€ types.ts                 # è¿½è¸ªç›¸å…³ç±»å‹
â”‚   â””â”€â”€ index.ts                     # å¾®æœåŠ¡æ¨¡å—å¯¼å‡º
```

**ä¾èµ–å…³ç³»**ï¼š
- `bun-server` çš„å¾®æœåŠ¡æ¨¡å—ä¾èµ– `@dangao/nacos-client`
- `@dangao/nacos-client` æ˜¯ç‹¬ç«‹åŒ…ï¼Œä¸ä¾èµ– `bun-server`

---

## ğŸ¯ v1.1.0 å‘å¸ƒæ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§

- [ ] Nacos é…ç½®ä¸­å¿ƒé›†æˆå®Œæˆ
  - [ ] NacosConfigModule å®ç°
  - [ ] é…ç½®çƒ­æ›´æ–°æ”¯æŒ
  - [ ] é…ç½®ç›‘å¬å’Œå›è°ƒ
- [ ] Nacos æœåŠ¡æ³¨å†Œä¸å‘ç°å®Œæˆ
  - [ ] ServiceRegistryModule å®ç°
  - [ ] æœåŠ¡æ³¨å†ŒåŠŸèƒ½
  - [ ] æœåŠ¡å‘ç°åŠŸèƒ½
  - [ ] è´Ÿè½½å‡è¡¡æ”¯æŒ

### ç¨³å®šæ€§

- [ ] æ‰€æœ‰æ–°åŠŸèƒ½æœ‰å®Œæ•´æµ‹è¯•è¦†ç›–
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] æ— å·²çŸ¥ä¸¥é‡ Bug

### æ–‡æ¡£

- [ ] å¾®æœåŠ¡ä½¿ç”¨æŒ‡å—
- [ ] Nacos é›†æˆæ–‡æ¡£
- [ ] æœåŠ¡æ³¨å†Œä¸å‘ç°æ–‡æ¡£
- [ ] ç¤ºä¾‹ä»£ç å®Œæ•´

---

## ğŸ“ å®ç°æ³¨æ„äº‹é¡¹

1. **Nacos SDK å®ç°**ï¼š
   - **ç‹¬ç«‹åŒ…**ï¼š`@dangao/nacos-client` ä½äº `packages/nacos-client/`
   - **å®ç°æ–¹å¼**ï¼šåŸºäº Nacos 3.X Open API è‡ªè¡Œå®ç° HTTP å®¢æˆ·ç«¯
   - **å‚è€ƒæ–‡æ¡£**ï¼š[Nacos 3.X å®¢æˆ·ç«¯ API](https://nacos.io/docs/latest/manual/user/open-api/)
   - **ä¸ä¾èµ–**ï¼šä¸ä¾èµ–å®˜æ–¹ Nacos Node.js SDKï¼Œé¿å…ç‰ˆæœ¬å…¼å®¹é—®é¢˜
   - **è½»é‡çº§**ï¼šä»…å®ç°å¿…è¦çš„é…ç½®ç®¡ç†å’ŒæœåŠ¡å‘ç°åŠŸèƒ½

2. **é…ç½®ä¼˜å…ˆçº§**ï¼š
   - Nacos é…ç½® > ç¯å¢ƒå˜é‡ > é»˜è®¤é…ç½®
   - æ”¯æŒé…ç½®åˆå¹¶å’Œè¦†ç›–

3. **æœåŠ¡æ³¨å†Œ**ï¼š
   - åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ³¨å†Œ
   - å®šæœŸå‘é€å¿ƒè·³ä¿æŒè¿æ¥
   - åº”ç”¨å…³é—­æ—¶è‡ªåŠ¨æ³¨é”€

4. **æœåŠ¡å‘ç°**ï¼š
   - æ”¯æŒæœåŠ¡å®ä¾‹åˆ—è¡¨ç¼“å­˜
   - ç›‘å¬æœåŠ¡å®ä¾‹å˜æ›´
   - æ”¯æŒå¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥

5. **å‘åå…¼å®¹**ï¼š
   - æ–°åŠŸèƒ½ä¸å½±å“ç°æœ‰åŠŸèƒ½
   - å¾®æœåŠ¡åŠŸèƒ½ä¸ºå¯é€‰æ¨¡å—ï¼Œä¸å½±å“å•æœºéƒ¨ç½²

6. **æ€§èƒ½è€ƒè™‘**ï¼š
   - é…ç½®å’ŒæœåŠ¡åˆ—è¡¨ç¼“å­˜
   - å¼‚æ­¥æ›´æ–°æœºåˆ¶
   - è¿æ¥æ± ç®¡ç†

---

## ğŸ”— ç›¸å…³èµ„æº

- [v1.0.0 Roadmap](./v1.0.0.md)
- [v1.x.x æ±‡æ€»æ¸…å•](./v1.x.x.md)
- **Nacos å®˜æ–¹æ–‡æ¡£**ï¼š
  - [Nacos 3.X å®¢æˆ·ç«¯ API](https://nacos.io/docs/latest/manual/user/open-api/)
  - [é…ç½®ç®¡ç† API](https://nacos.io/docs/latest/manual/user/open-api/#11-%E8%8E%B7%E5%8F%96%E9%85%8D%E7%BD%AE)
  - [æœåŠ¡å‘ç° API](https://nacos.io/docs/latest/manual/user/open-api/#2-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0)
  - [Nacos æ–‡æ¡£æºç ](https://github.com/nacos-group/nacos-group.github.io/tree/develop-astro-nacos/src/content/docs/v3.0)
- [å¾®æœåŠ¡æœ€ä½³å®è·µ](../docs/best-practices.md)
